<img src="/assets/icons/users_key-4.png" class="clickable" (click)="open = true" *ngIf="!open; else isopen">
<ng-template #isopen>
  <div class="aesthetic-windows-95-modal position-absolute modal">
    <div class="aesthetic-windows-95-modal-title-bar">
      <div class="aesthetic-windows-95-modal-title-bar-text">{{register ? 'register' : 'login'}}</div>
      <div class="aesthetic-windows-95-modal-title-bar-controls">
        <div class="aesthetic-windows-95-button-title-bar">
          <button (click)="open = false" type="button">X</button>
        </div>
      </div>
    </div>
    <div class="aesthetic-windows-95-modal-content">
      <form #loginForm="ngForm" (ngSubmit)="onSubmit()">
        <div>
          <label for="input--login--username">username</label>
          <input id="input--login--username" class="aesthetic-windows-95-text-input" name="username" required
                 [(ngModel)]="model.username">
        </div>
        <div>
          <label for="input--login--password">password</label>
          <input id="input--login--password" class="aesthetic-windows-95-text-input" name="password" type="password"
                 required [(ngModel)]="model.password">
        </div>
        <div class="mt-3">
          <div *ngIf="loading; else notLoading">
            <div class="aesthetic-windows-95-loader">
              <div></div>
              <div></div>
              <div></div>
            </div>
          </div>
          <ng-template #notLoading>
            <button class="aesthetic-windows-95-button d-inline-block" [disabled]="loginForm.invalid">
              {{register ? 'register' : 'login'}}
            </button>
            <span class="ml-3 d-inline-block">
            <button class="button-link" (click)="register = !register" type="button">
              {{register ? 'login' : 'register'}}
            </button>
            </span>
          </ng-template>
        </div>
      </form>
    </div>
  </div>
</ng-template>

